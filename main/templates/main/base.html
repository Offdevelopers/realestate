{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>{% block title %}{% endblock %}</title>
	<meta charset = "utf-8">
    <meta http-equiv = "X-UA-Compatible" content = "IE=edge">
    <meta name = "viewport" content = "width = device width, initial-scale = 1">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    
    <link rel="stylesheet" type="text/css" href="http://test.sagecapitals.com/css/styles.css">
    <!--link rel="stylesheet" type="text/css" href="http://test.sagecapitals.com/css/property.css"-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--link rel="stylesheet" type="text/css" href="css/bootstrap-xlgrid.min.css"-->
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="http://test.sagecapitals.com/css/footer.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="mine.css" rel="stylesheet">
    <link rel="shortcut icon" sizes="76x76" type="image/x-icon" href="img/avetiz4.png" />
    <link rel="stylesheet" href="{% static 'css/build.css' %}"/>
     <!--script src="http://maps.google.com/maps/api/js?sensor=false"
              type="text/javascript"></script-->
  <link rel="stylesheet" type="text/css" href="{% static 'css/slick.css' %}"/>
  <link rel="stylesheet" type="text/css" href="{% static 'css/slick-theme.css' %}"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/css/swiper.min.css">
 
   <link rel="stylesheet" type="text/css" href="http://test.sagecapitals.com/css/property.css">
   <link rel="stylesheet" href="http://test.sagecapitals.com/css/owl.carousel.min.css">
  <link rel="stylesheet" href="http://test.sagecapitals.com/css/owl.theme.default.min.css">
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="http://test.sagecapitals.com/css/lightslider.css">
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <meta name="google-signin-client_id" content="618038693955-g1h7eesekhfh2fqn3v0c64q4g8saiij3.apps.googleusercontent.com">
  {% block styles %}{% endblock %}
  <link href="{% static '/css/mine.css' %}" rel="stylesheet">
  <script type="text/javascript" src="{% static '/js/money.js' %}"></script>
  <script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyC8TvKHQ-rUklU5OsD6Oq73pMG1fJO9iR8"></script>
</head>
<body >

  {% block inlinestyle %}
  {% endblock %}

<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="{% url 'main:home' %}"><img class ="img-responsive" src="http://test.sagecapitals.com/img/avetiz-solid.png"></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" >
    
      {% include 'main/includes/nav.html' %}
          </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


{% block content %}{% endblock %}


<!-- Footer Section built by a backender -->
<div class="divider-5"></div>
<hr>

<div class="modal" id="loginmodal">
  <div class="modal-dialog" style="width:350px; margin: 20% auto;">
    <div class="modal-content">
      <div class="modal-header">
        <h4>Sign In</h4>
      </div>
      <div class="modal-body">
        
        <div class="row">
          <div class="col-md-12">
            <button class="btn-primary form-control" onclick="fblogin()" style="background-color: #3b5998; border-color: #3b5998">Continue With Facebook</button>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md-12">
            <!--button class="btn btn-primary form-control" onclick="glogin()" style="background-color: #4285f4; border-color: #4285f4">Continue With Google</button-->
            <div class="g-signin2" data-width="320" data-onsuccess="onSignIn"  data-longtitle="true">
          </div>
          <br>
        </div>
      </div>
        
        <!--div class="row">
          <div class="col-md-12">
            <button class="btn btn-primary form-control" style="background-color: #f5f5f5; border-color: #f5f5f5; color: #000;">Continue With Email</button>
          </div>
        </div-->
        <!--div class="row">
          <br>
          <div class="col-md-12 text-center">
           <h4> <a href="#" style="text-decoration: none;">Join Avetiz</a></h4>
          </div>
        </div-->
      </div>
    </div>

  </div>
</div>


<div class="container"> 
<div class="footer">
  
    <div class="row">
      
      <div class="col-sm-4 more-space"><!--  1st column begins-->
      
        <!--h4 class="column-header text-justify head"> AvetiZ </h2-->
        
        
        <div class="more-space">
      
        <div class="col-md-8 mavelous ">
          
          
          <div class="form-group">
            
            <div id="google_translate_element"></div>

            <script type="text/javascript">
                /*function googleTranslateElementInit() {
                    new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'ar,de,en,fr,zh-CN', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                    }*/
                  </script>
                  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
          </div>  
      
        </div>
             
        <div class="col-sm-8 mavelous currency">
          
          <div class="form-group">
          
            <select name="currency_code" class="form-control js-curr tolu">
                <option value="NGN">NGN</option>
                <option value="USD">USD</option>
                <option value="BRL">EUR </option>
                <option value="CAD">CAD</option>
                <option value="CZK">GBP</option>
                
            </select>
          
          </div>
    
        </div>

        
        <div class="divider-10"></div>
        
        <div class="col-sm-12 hidden-xs">
        
          <ul class="list-group text-justify  borderless list-inline">
              <li class="list-group-item">Terms</li>
              <li class="list-group-item">Privacy</li>
              <li class="list-group-item">Site Map</li>
              <li class="list-group-item"><span><i class="fa fa-facebook-official fa-1x"></i></span></li>
              <li class="list-group-item"><i class="fa fa-linkedin fa-1x"></i></li>
              <li class="list-group-item"><i class="fa fa-instagram fa-1x" aria-hidden="true"></i></li>
          </ul>
        
        </div>
        
  
        
        
        
        </div><!--more space div add margin top -->
        
      
      </div><!-- end of 1st column-->
      
      
      <div class="col-sm-4 more-space"><!--  2nd column begins-->
          
          <div class="more-space">
          
           <h4 class="column-header text-justify head"> Sign Up </h4>
          
          <ul class="list-group text-justify mavelous borderless">
            <li class="list-group-item">About</li>
            <li class="list-group-item">Help</li>
            <li class="list-group-item">Investors</li>
            <li class="list-group-item"><a class="js-partner" href="{% url 'main:agent_list' %}">Partners</a></li>
            <li class="list-group-item">Cities</li>
            <li class="list-group-item">Policies</li>
            <li class="list-group-item">Countries</li>
            <!--li class="list-group-item">About Us</li--> 
            
          </ul>
          
          </div>
      
      
      </div><!-- end of 2nd column-->
    
    
      
      <div class="col-sm-3 more-space"><!--  3nd column begins-->
      
          
          
          
          
          <div class="more-space">
      <h4 class="column-header text-justify head "> Help </h4>
          <ul class="list-group text-justify mavelous borderless">
            <li class="list-group-item">Safety</li>
            <li class="list-group-item">Media</li>
            <li class="list-group-item"><a href="how-it-works.html">How it Works</a></li>
            <li class="list-group-item"><a href="intelligent-investing.html">Intelligent Investing</a></li>
            <li class="list-group-item"><a href="insight.html">Insight</a></li>
            <!--li class="list-group-item">Local Jobs</li-->
          </ul>
          
          </div>
      
    
      
      </div><!-- end of 3nd column-->
      
      <div class="col-sm-1 ">
    <!--div class="divider-icon"></div-->
        <div class="col-sm-push-3" >
    
                                 
        <div id="search" class="modal fade" role="dialog">
          <div class="modal-dialog">

    <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" id="state">Lagos</h4>
              </div>
              <div class="modal-body">
              
                <p>We Use Location to customize the information you see.</p>
                
                <input type="text" id="pac-input" class="form-control" placeholder="Change your location"  />
                <!--div class="pac-container"></div-->
                
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>

          </div>
        </div>
        
        </div>
      
      </div>
  </div><!--row -->
  </div> 
  <div class="col-sm-12 hiddenTerms">
        
          <ul class="list-group text-justify  borderless list-inline">
              <li class="list-group-item">Terms</li>
              <li class="list-group-item">Privacy</li>
              <li class="list-group-item">Site Map</li>
              <li class="list-group-item"><span><i class="fa fa-facebook-official fa-1x"></i></span></li>
              <li class="list-group-item"><i class="fa fa-linkedin fa-1x"></i></li>
              <li class="list-group-item"><i class="fa fa-instagram fa-1x" aria-hidden="true"></i></li>
          </ul>
        
        </div>
  </div><!--container --> 
  <hr>


  
        
  
      
   <div class="container">
     <div class="row">
      <div class="col-sm-6">
      <span><p class="head">AvetiZ is a service mark of AvetiZ &copy; 2017. All Rights Reserved.</p></span>
      </div>
      
        <div class="col-sm-4 border-header"><!-- android ios download section -->
           <ul class="list-group text-center borderless list-inline">
            <li class="list-group-item"><img src="img/google2.png" class="img-responsive "></li>
            <li class="list-group-item"><img src="img/ios2.png" class="img-responsive "></li> 
          </ul>  
       </div>
       </div>
     </div>

<script type="text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script type="text/javascript" src="http://test.sagecapitals.com/js/main.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="http://test.sagecapitals.com/js/lightslider.js"></script>
<script type="text/javascript" src="{% static 'js/slick.min.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/js/swiper.min.js"></script>

<script type="text/javascript" src="{% static 'js/realestate.js' %}"></script>
<script>

      $('.js-partner').click(function(e){
        e.preventDefault();
        city=sessionStorage.city;
        state=sessionStorage.state;
        country=sessionStorage.country;
        url=$(this).attr('href');
        window.location=url+'?city='+city+'&state='+state+'&country='+country;
        return false;
      })
      
</script>


<script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    //console.log('statusChangeCallback');
    //console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().

    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      //loginApp();
    } else {
      // The person is not logged into your app or we are unable to tell.
      //document.getElementById('status').innerHTML = 'Please log ' +
        //'into this app.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }
 
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '127616518099874',
      cookie     : true,  // enable cookies to allow the server to access 
                          // the session
      xfbml      : true,  // parse social plugins on this page
      version    : 'v2.8' // use graph api version 2.8
    });

    // Now that we've initialized the JavaScript SDK, we call 
    // FB.getLoginStatus().  This function gets the state of the
    // person visiting this page and can return one of three states to
    // the callback you provide.  They can be:
    //
    // 1. Logged into your app ('connected')
    // 2. Logged into Facebook, but not your app ('not_authorized')
    // 3. Not logged into Facebook and can't tell if they are logged into
    //    your app or not.
    //
    // These three cases are handled in the callback function.

    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });

  };

   function fblogin(){
    

  FB.login(function(response) {
  if (response.status === 'connected') {
     loginApp();
  } else {
    alert('Invalid login');
  }
}, {scope: 'public_profile,email'});

}

  // Load the SDK asynchronously
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function loginApp() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      //console.log(response)
      if (response.email){

      
        loginToApp(response.email, response.name,response.id, 'facebook')


     }
     else{
       console.log(response)
      loginToApp('abiodun.toluwanii@gmail.com', response.name, response.id, 'facebook')
      //alert('Email not found. Please register with another account')
     }
      console.log('Successful login for: ' + response.name);
    });
      ////document.getElementById('status').innerHTML =
       //'Thanks for logging in, ' + response.name + '!';
  }

  function loginToApp(email, name, id, method){
    $.get('/account/login/' , {'email':email, 'name':name, 'id':id , 'method':method}).done(function(data){

      //location.reload()
      $('#bs-example-navbar-collapse-1').html(data.data);
      $('#loginmodal').modal('hide');


      })
  }



function onSignIn(googleUser) {
  var profile = googleUser.getBasicProfile();
  loginToApp(profile.getEmail(), profile.getName(), profile.getId(), 'google' )
  console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
  console.log('Name: ' + profile.getName());
  //console.log('Image URL: ' + profile.getImageUrl());
  console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
}

$('.js_logout').click(function(e){
  e.preventDefault();
  console.log('fuck sit')
  signOut()
  window.location="{% url 'login:logout' %}"
})

function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
      console.log('User signed out.');
    });
  }
 

</script>


{% block scripts %}{% endblock %}

</body>
</html>